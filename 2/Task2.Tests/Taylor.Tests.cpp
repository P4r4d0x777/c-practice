#include "pch.h"
#include "../Task2/Taylor.h"
using namespace std;

TEST(TaylorTests, HighPrecision)
{
	cout << "\n" << "__________________________________________________________________" << "\n";
	cout << "|     x     |      f(x)      |   n   |        ln(1+x)/(1-x)       |" << "\n";
	cout << ":::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::" << "\n";
	int steps = 0;
	float a = -0.2, b = 0.9, dx = 0.1;
	for (float j = a; j <= b; j += dx)
	{
		cout << "|   " << setw(5) << j << setw(5) << "   |  " << setw(11) << Taylor(0.0000000000000000000001, j, &steps) << setw(6) << "  |  " << setw(3) << steps << setw(3) << "  |    " << setw(15) << log((1 + j) / (1 - j)) << setw(10) << "    |" << "\n";
	}
	cout << ":::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::""\n""\n";
}
TEST(TaylorTests, LowPrecision)
{
	cout << "\n" << "__________________________________________________________________" << "\n";
	cout << "|     x     |      f(x)      |   n   |        ln(1+x)/(1-x)       |" << "\n";
	cout << ":::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::" << "\n";
	int steps = 0;
	float a = -0.2, b = 0.9, dx = 0.1;
	for (float j = a; j <= b; j += dx)
	{
		cout << "|   " << setw(5) << j << setw(5) << "   |  " << setw(11) << Taylor(0.1, j, &steps) << setw(6) << "  |  " << setw(3) << steps << setw(3) << "  |    " << setw(15) << log((1 + j) / (1 - j)) << setw(10) << "    |" << "\n";
	}
	cout << ":::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::""\n""\n";
}